<?xml version="1.0"?>
<launch>
<!--         <master auto="true"/> -->
<!--         <param name="/use_sim_time" value="true" /> -->
  <arg name="debug" default="false"/>
  <arg name="config" default="test_params.yaml"/>
  <arg name="map" default="test_map_1.yaml"/>
  <arg name="problem" default="problem_1.yaml"/>
  <arg name="velocity_file" default=""/>
        
  <!--Start the map server for the path planner-->
  <node name="map_server" pkg="map_server" type="map_server" args="$(find siar_planner)/test/$(arg map)" output="screen"/>
  
  <node name="test_planner" pkg="siar_planner" type="test_planner" output="screen" unless="$(arg debug)">
    <remap from="/altitude_map" to="/map"/>
    <rosparam file="$(find siar_planner)/test/$(arg config)" command="load"  /> 
    <rosparam file="$(find siar_planner)/test/$(arg problem)" command="load"  /> 
    <param name="velocity_file" value="$(find siar_planner)/test/$(arg velocity_file)" />
  </node>
  
  <node name="test_planner" pkg="siar_planner" type="test_planner" output="screen" if="$(arg debug)" launch-prefix="xterm -e gdb - -args">
    <remap from="/altitude_map" to="/map"/>
    <rosparam file="$(find siar_planner)/test/$(arg config)" command="load"  /> 
    <rosparam file="$(find siar_planner)/test/$(arg problem)" command="load"  /> 
  </node>
  
  <node pkg="rviz" type="rviz" name="rviz" args="-d $(find robotics_challenge)/rviz/turtlebot.rviz"/>
</launch>
